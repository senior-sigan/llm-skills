---
name: handover
description: Save session context to HANDOVER.md — decisions, lessons, rules, and project state for future sessions
disable-model-invocation: true
---

# Handover — сохранение контекста сессии

Ты выполняешь handover: сохраняешь всё важное из текущей сессии в файл `HANDOVER.md` в корне проекта. Этот файл — твоя долговременная память между сессиями.

## Алгоритм

1. **Прочитай текущий `HANDOVER.md`** (если существует) — он содержит накопленный контекст предыдущих сессий. Не теряй его, а обнови и дополни.

2. **Прочитай `tasks/lessons.md`** — включи актуальные уроки в handover.

3. **Проанализируй текущую сессию** и извлеки:
   - Какие задачи решались и их текущий статус
   - Принятые архитектурные и технические решения с обоснованием
   - Выборы между альтернативами (что выбрали и почему)
   - Новые уроки и ошибки
   - Предпочтения и правила работы с пользователем
   - Незавершённые задачи и следующие шаги

4. **Запиши/обнови `HANDOVER.md`** по структуре ниже.

## Структура HANDOVER.md

```markdown
# Handover

> Последнее обновление: {дата}

## Текущее состояние проекта
<!-- Краткое описание: на чём остановились, текущая ветка, что в процессе -->

## Принятые решения
<!-- Ключевые архитектурные и технические решения с кратким обоснованием -->
<!-- Формат: решение — почему — дата -->

## Правила работы
<!-- Выученные предпочтения пользователя, стиль взаимодействия, что делать/не делать -->

## Уроки (Lessons Learned)
<!-- Ошибки и выводы из них — синхронизировано с tasks/lessons.md -->

## Незавершённые задачи
<!-- Что осталось сделать, следующие шаги, блокеры -->

## Контекст для следующей сессии
<!-- Что важно помнить при старте новой сессии -->
```

## Правила

- **Не теряй накопленный контекст**: всегда мержь новую информацию с существующей, не перезаписывай старое
- **Будь конкретен**: не "приняли решение по архитектуре", а "выбрали FastAPI + SQLAlchemy async вместо Django потому что..."
- **Датируй**: каждое решение и урок должны иметь дату
- **Компактность**: пиши кратко, но информативно. Это справочник, не эссе
- Язык документа — русский (технические термины на английском)
